RewriteEngine on 
RewriteCond $1 !^(index\.php|images|robots\.txt|public)
RewriteRule ^(.*)$ /shop/index.php/$1 [L]